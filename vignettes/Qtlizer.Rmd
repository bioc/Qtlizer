---
title: "Qtlizer"
output: BiocStyle::html_document
author: "Julia Remes"
vignette: >
    %\VignetteIndexEntry{qtlizer}
    %\VignetteEngine{knitr::rmarkdown}
    %\VignetteEncoding{UTF-8}
---


```{r, include = FALSE}
knitr::opts_chunk$set(
    collapse = TRUE,
    comment = "#>"
)
```

#Introduction 
The qtlizer package is written to provide the function of making a query 
to Qtilzer and obtain the results as a data frame. There is also the 
possibility to get the results as a Grange object.

#Add package to working directory
```{r setup}
library(Qtlizer)
```


#Example function calls
One can call the get_qtls function with a single query: 
```{r}
# Call get_qtls with a single query
get_qtls("rs4284742")
```

It is also possible to call the function 
with more than one query and a single string:
```{r}
# Call get_qtls with serveral queries
ddf = get_qtls("rs4284742, rs2070901")
```

Another possibility is to make a single request with a vector of queries:
```{r}
# Call get_qtls with serveral queries
df = get_qtls(c("rs4284742", "DEFA1"))
```

If many requests are to be made, 
a maximum of max_terms queries are made at once. 
This term can be changed manually (default is 5):
```{r}
# Change the maximum queries made at a time
df2 = get_qtls(c("rs4284742", "DEFA1"), max_terms = 1)
```

There are also two more parameters that can be used. The ld_method can be
changed from the standard value "r2" to "dprime". These are the only two possible methods. 
The linkage disequilibrium (parameter is called corr) can be set between 0.1 and 1. 
```{r}
# Use parameters corr and ld_method
df2 = get_qtls(c("rs4284742", "DEFA1"), corr = 0.6, ld_method = "dprime")
```

There is meta info added to the returned data frame which can be accessed:
```{r}
# Get meta info
df = get_qtls("rs4284742")
comment(df)
```

If the retained object should be a GenomicRanges::GRanges object than another 
parameter can be used. First set parameter return_obj on "grange". Then the 
reference position can either be the standard value "hg_19" or "hg_38".
```{r}
#return result as GRange object with ref_version hg_38
g = get_qtls("rs4284742", return_obj = "grange", ref_version = "hg38")
```

#Output of Session Info
Here is the output of ```sessionInfo()``` on the system 
on which this document was compiled: 
```{r}
sessionInfo()
```

